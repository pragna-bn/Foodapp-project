{% extends 'base.html' %}

{% block title %}Your Cart - CarveCloud{% endblock %}

{% block content %}

<style>  
/* ===== Cart Page Styles ===== */  
.cart-container {  
    max-width: 950px;  
    margin: 40px auto;  
    padding: 0 15px;  
}  
  
.cart-title {  
    text-align: center;  
    font-size: 2.2rem;  
    font-weight: 700;  
    color: #fff;  
    text-shadow: 1px 1px 5px rgba(0,0,0,0.5);  
    margin-bottom: 30px;  
}  
  
/* Empty Cart Styling */  
.empty-cart {  
    text-align: center;  
    padding: 60px 20px;  
    background: rgba(0,0,0,0.35);  
    border-radius: 16px;  
    box-shadow: 0 8px 20px rgba(0,0,0,0.5);  
    color: #fff;  
}  
  
.empty-cart h2 {  
    font-size: 1.8rem;  
    margin-bottom: 10px;  
}  
  
.empty-cart p {  
    font-size: 1.1rem;  
    margin-bottom: 20px;  
}  
  
.empty-cart a {  
    display: inline-block;  
    padding: 14px 36px;  
    background: linear-gradient(135deg, #27ae60, #2ecc71);  
    color: #fff !important;  
    font-weight: bold;  
    border-radius: 50px;  
    text-decoration: none !important;  
    transition: all 0.3s ease;  
}  
  
.empty-cart a:hover {  
    transform: scale(1.05);  
}  
  
/* Cart Table Styling */  
.cart-table {  
    width: 100%;  
    border-collapse: separate;  
    border-spacing: 0;  
    background: rgba(0,0,0,0.35);  
    border-radius: 12px;  
    overflow: hidden;  
    box-shadow: 0 8px 25px rgba(0,0,0,0.5);  
    color: #fff;  
}  
  
.cart-table thead {  
    background: linear-gradient(135deg, #27ae60, #2ecc71);  
    color: #fff;  
}  
  
.cart-table th, .cart-table td {  
    padding: 15px;  
    text-align: center;  
}  
  
.cart-table tbody tr {  
    border-bottom: 1px solid rgba(255,255,255,0.1);  
    transition: transform 0.3s ease, box-shadow 0.3s ease;  
}  
  
.cart-table tbody tr:hover {  
    transform: translateY(-3px);  
    box-shadow: 0 6px 20px rgba(0,0,0,0.4);  
}  
  
/* Food Image */  
.food-image {  
    width: 80px;  
    height: 60px;  
    object-fit: cover;  
    border-radius: 8px;  
    margin-top: 5px;  
}  
  
/* Quantity Buttons */  
.qty-btn {  
    padding: 6px 12px;  
    border-radius: 6px;  
    font-size: 18px;  
    color: #fff !important;  
    text-decoration: none !important;  
    font-weight: bold;  
    transition: all 0.3s ease;  
}  
  
.qty-decrement {  
    background: #e74c3c;  
}  
  
.qty-decrement:hover {  
    background: #c0392b;  
    transform: scale(1.1);  
}  
  
.qty-increment {  
    background: #2ecc71;  
}  
  
.qty-increment:hover {  
    background: #27ae60;  
    transform: scale(1.1);  
}  
  
/* Remove Button */  
.remove-btn {  
    padding: 8px 16px;  
    border-radius: 50px;  
    background: linear-gradient(135deg, #e74c3c, #ff6f61);  
    color: #fff !important;  
    text-decoration: none !important;  
    font-weight: bold;  
    transition: all 0.3s ease;  
}  
  
.remove-btn:hover {  
    background: linear-gradient(135deg, #c0392b, #e74c3c);  
    transform: scale(1.05);  
}  
  
/* Action Buttons */  
.action-buttons a {  
    display: inline-block;  
    padding: 14px 36px;  
    border-radius: 50px;  
    font-weight: bold;  
    color: #fff !important;  
    text-decoration: none !important;  
    margin: 10px 10px 0 0;  
    transition: all 0.3s ease;  
}  
  
.continue-btn {  
    background: #3498db;  
}  
  
.continue-btn:hover {  
    transform: scale(1.05);  
}  
  
.placeorder-btn {  
    background: #e67e22;  
}  
  
.placeorder-btn:hover {  
    transform: scale(1.05);  
}  
  
/* Bottom Buttons - My Orders & Back to Home */  
.bottom-links {  
    text-align: center;  
    margin-top: 50px;  
}  
  
.bottom-links a {  
    display: inline-block;  
    margin: 5px 15px;  
    padding: 12px 30px;  
    border-radius: 50px;  
    font-weight: bold;  
    font-size: 1rem;  
    text-decoration: none !important;  
    color: #fff !important;  
    background: linear-gradient(135deg, #8e44ad, #9b59b6);  
    transition: all 0.3s ease;  
}  
  
.bottom-links a:hover {  
    transform: scale(1.05);  
    background: linear-gradient(135deg, #732d91, #8e44ad);  
}  
</style>  <div class="cart-container">  
    <h1 class="cart-title">Your Cart</h1>  {% if items %}  
    <table class="cart-table">  
        <thead>  
            <tr>  
                <th>Food Item</th>  
                <th>Quantity</th>  
                <th>Price</th>  
                <th>Subtotal</th>  
                <th>Action</th>  
            </tr>  
        </thead>  
        <tbody>  
            {% for item in items %}  
            <tr>  
                <td>  
                    <strong>{{ item.food.name }}</strong><br>  
                    {% if item.food.image %}  
                        <img src="{{ item.food.image.url }}" class="food-image" alt="{{ item.food.name }}">  
                    {% endif %}  
                </td>  
                <td>  
                    {% if item.food.id %}  
                        <a href="{% url 'decrement_quantity' item.food.id %}" class="qty-btn qty-decrement">–</a>  
                    {% endif %}  
                    <span style="margin:0 12px; font-weight:bold;">{{ item.quantity }}</span>  
                    {% if item.food.id %}  
                        <a href="{% url 'increment_quantity' item.food.id %}" class="qty-btn qty-increment">+</a>  
                    {% endif %}  
                </td>  
                <td>₹{{ item.price }}</td>  
                <td>₹{{ item.subtotal }}</td>  
                <td>  
                    {% if item.food.id %}  
                        <a href="{% url 'remove_from_cart' item.food.id %}" class="remove-btn">Remove</a>  
                    {% endif %}  
                </td>  
            </tr>  
            {% endfor %}  
        </tbody>  
    </table>  

    <div class="cart-total">Total: ₹{{ total }}</div>  

    <div class="action-buttons text-center">  
        <a href="{% url 'restaurant_list' %}" class="continue-btn">Continue Shopping</a>  
        <a href="{% url 'checkout' %}" class="placeorder-btn">Place Order</a>  
    </div>  

{% else %}  
    <div class="empty-cart">  
        <h2>Your cart is empty</h2>  
        <p>Looks like you haven't added anything yet!</p>  
        <a href="{% url 'restaurant_list' %}">Start Ordering Now</a>  
    </div>  
{% endif %}  

<!-- Bottom Links as Buttons -->  
<div class="bottom-links">  
    <a href="{% url 'my_orders' %}">My Orders</a>  
    <a href="{% url 'home' %}">Back to Home</a>  
</div>

</div>  {% endblock %}
